# Стратегия работы с ветками Git в проекте

Этот документ описывает принятую в проекте стратегию ветвления, основанную на подходе Git Flow. Она позволяет вести параллельную разработку нового функционала и поддерживать стабильность основной ветки.

## Основные ветки

*   `main`: Основная, стабильная ветка. В ней находится только протестированный и готовый к выпуску код. Прямые коммиты в `main` запрещены, за исключением срочных исправлений (hotfix).
*   `feature-development` (или `develop`): Основная ветка для разработки. В нее сливаются все новые функции для совместного тестирования перед релизом.

---

## Пошаговый процесс разработки

### Шаг 1: Создание новой ветки для разработки

Для разработки нового функционала или нового приложения создается отдельная ветка из `main`.

1.  Убедитесь, что вы находитесь в основной ветке и она содержит все последние изменения с сервера.

    ```bash
    # Переключаемся на основную ветку
    git checkout main
    
    # Загружаем последние изменения с удаленного сервера
    git pull origin main
    ```

2.  Создайте новую ветку для разработки и сразу переключитесь на нее. Название должно отражать суть задачи (например, `feature/new-reporting-system`).

    ```bash
    # Создаем ветку 'feature/new-reporting-system' и переключаемся на нее
    git checkout -b feature/new-reporting-system
    ```

3.  Опубликуйте вашу новую ветку на удаленном сервере (например, GitHub).

    ```bash
    # Отправляем новую ветку на сервер и устанавливаем связь для отслеживания
    git push -u origin feature/new-reporting-system
    ```

### Шаг 2: Параллельная работа

Теперь вы можете легко переключаться между задачами.

#### А. Исправление ошибок в `main` (Hotfix)

Если нужно срочно исправить ошибку в рабочем приложении:

1.  Переключитесь на ветку `main`.
    ```bash
    git checkout main
    ```
2.  Внесите необходимые исправления.
3.  Сделайте коммит с понятным сообщением.
    ```bash
    git add .
    git commit -m "Fix: Исправлена ошибка в панели интеграции"
    ```
4.  Отправьте исправление на сервер.
    ```bash
    git push origin main
    ```

#### Б. Разработка нового функционала в feature-ветке

1.  Переключитесь на вашу ветку для разработки.
    ```bash
    git checkout feature/new-reporting-system
    ```
2.  Спокойно работайте над новыми функциями, делайте коммиты.
    ```bash
    git add .
    git commit -m "Feature: Добавлена кнопка экспорта в формате Дельта"
    git push origin feature/new-reporting-system
    ```

### Шаг 3: Синхронизация веток (Важно!)

Периодически (например, раз в день или после каждого важного исправления в `main`) стоит "подтягивать" изменения из `main` в вашу feature-ветку. Это поможет избежать больших и сложных конфликтов слияния в будущем.

1.  Находясь в вашей feature-ветке, выполните команду:
    ```bash
    git pull origin main
    ```
2.  Если возникнут конфликты, решите их, сделайте коммит слияния и продолжайте работу.

### Шаг 4: Слияние нового функционала в основную ветку

Когда разработка нового функционала будет завершена и протестирована, ее нужно слить обратно в `main`. **Лучшая практика — делать это через Pull Request (или Merge Request) на GitHub/GitLab.**

1.  Убедитесь, что ваша feature-ветка содержит все последние изменения из `main` (см. Шаг 3).

2.  Переключитесь на основную ветку `main`.
    ```bash
    git checkout main
    ```

3.  Выполните слияние feature-ветки в `main`.
    ```bash
    git merge feature/new-reporting-system
    ```

4.  Отправьте обновленную ветку `main` на сервер.
    ```bash
    git push origin main
    ```

5.  После успешного слияния feature-ветку можно удалить.
    ```bash
    # Удаляем локальную ветку
    git branch -d feature/new-reporting-system
    
    # Удаляем ветку на удаленном сервере
    git push origin --delete feature/new-reporting-system
    ```

    .venv\Scripts\Activate.ps1