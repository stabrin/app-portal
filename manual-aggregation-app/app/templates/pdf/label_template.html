<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Пропуски для сотрудников</title>
<style>
        /* Устанавливаем размер страницы и убираем отступы */
        @page {
            size: 60mm 80mm;
            margin: 3mm;
        }
        body {
            font-family: sans-serif;
            font-size: 10pt;
            margin: 0;
            padding: 0;
        }
        .label {
            width: 100%;
            height: 100%;
            text-align: center;
            /* Эта директива создает новую страницу после каждого ярлыка */
            page-break-after: always;
        }
        .qr-code {
            max-width: 40mm; /* Немного уменьшим QR, чтобы было больше места */
            max-height: 40mm;
            margin-top: 1mm; /* Добавим отступ сверху */
            margin-bottom: 5mm; /* И снизу */
        }
        .fio-line {
            border-bottom: 1px solid black;
            width: 90%;
            margin: 5mm auto 0 auto; /* Отступ сверху и авто-отступы по бокам для центрирования */
            height: 1px;
        }
        
        /* Убираем лишние отступы у параграфов, чтобы все было компактнее */
        p {
            margin: 1mm 0;
            padding: 0;
        }
    </style>
</head>
<body>
    {% for label in labels %}
    <div class="label">
        <div>
            <p><strong>Клиент:</strong> {{ label.client_name }}</p>
            <p><strong>Заказ №:</strong> {{ label.order_id }}</p>
        </div>
        
        <img src="data:image/png;base64,{{ label.qr_base64 }}" alt="QR Code" class="qr-code">
        
        <div>
            <p><strong>Пропуск № {{ label.pass_number }}</strong></p>
            <p><strong>Ф.И.О.:</strong></p>
            <div class="fio-line"></div>
        </div>
    </div>
    {% endfor %}
</body>
</html>